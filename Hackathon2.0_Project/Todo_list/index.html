<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
    rel="stylesheet">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
  <link rel="stylesheet" href="style.css">
  <title>Hackathon 2.0</title>

</head>

<body>
  <div class="container">
    <h1 class="poppins-semibold">TODO LIST</h1>
    <form action="">
      <input id="input-box" class="form__input" type="text" id="txt" placeholder="Type a task">
      <button type="button" class="add-btn" onclick="addTask()">ADD</button>
    </form>
    <div class="data_container">
      <h1 class="poppins-medium">List of Task</h1>
      <P id="emt-msg"></P>
      <p id="p-text">
        The list is empty</p>
      <ul id="taskList"></ul>
    </div>
  </div>


</body>

<!-- <script src="index.js"></script> -->
<script>
  function addTask() {
    let input = document.getElementById("input-box").value;
    let inputText = document.createTextNode(input);
    let emptyWarning = document.getElementById("emt-msg")
    let listEmpty = document.getElementById("p-text");



    if (input === "") {
      // alert('Please enter the task name')
      setTimeout(() => {
        emptyWarning.innerText = "Please Enter The Task"
      }, 500);

      setInterval(() => {
        emptyWarning.innerText = "";
      }, 5000);
    } else {
      // for remove list empty msg
      listEmpty.innerText = "";
      // adding some styles to
      listEmpty.style.borderColor = "rgb(71 101 209)";
      listEmpty.style.borderStyle = "solid";
      listEmpty.style.borderWidth = "1px";
      // for remove text from text box after adding the element
      document.getElementById("input-box").value = "";
      // perform element create and append these elements
      let TaskList = document.createElement("li");
      TaskList.appendChild(inputText);
      document.getElementById("taskList").appendChild(TaskList);
      let div = document.createElement("Div");
      TaskList.appendChild(div);
      let btn1 = document.createElement("BUTTON");
      let btnText1 = document.createTextNode("Edit")
      let btn2 = document.createElement("BUTTON");
      let btnText2 = document.createTextNode("Delete")
      let listEle = document.querySelectorAll("LI");
      // for loop for set id name in sequence to every append element
      for (var i = 0; i < listEle.length; i++) {
        var listR = listEle[i].id = `list-${[i + 1]}`;
        TaskList.setAttribute("id", listR);
      }
      console.log(listR);
      //adding attrbutes
      btn1.appendChild(btnText1);
      btn1.setAttribute("type", "submit");
      btn1.setAttribute("id", "delete");
      btn1.setAttribute("class", "t-btn");
      btn2.appendChild(btnText2);
      div.appendChild(btn1,);
      // adding event listener to button 1
      btn1.addEventListener('click', () => {
        // document.getElementById(`list-${i}`)
        // console.log("Edit- " + i);
      })

      // adding event listener to button 2
      btn2.setAttribute("type", "submit");
      btn2.setAttribute("id", "delete");
      btn2.setAttribute("class", "t-btn");
      div.appendChild(btn2,);
      btn2.addEventListener('click', () => {
        let findEle = document.getElementById(`list-${i}`);
        findEle.parentNode.removeChild(findEle);
        console.log("Delete- " + i);
        if (document.getElementById("taskList").innerText == "") {
          listEmpty.innerText = "The list is empty"
          listEmpty.style.border = "none"
          list

        }
      })
    }
  }



</script>




</html>

<!-- <li>Rahil Khan
          <div>
            <button class="t-btn"><span>Update</span></button>
            <button class="t-btn"><span>Delete</span></button>
          </div>
        </li>
        <li>Israil khan
          <div>
            <button class="t-btn">Update</button>
            <button class="t-btn">Delete</button>
          </div>
        </li> -->